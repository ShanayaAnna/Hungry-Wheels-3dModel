<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Exploring images</title>
		<style>
			body { margin: 0;
						 background-color: lightblue; }
			canvas { width: 100%; height: 100% }
			#container canvas{ position: absolute; left: 0; top: 0; width: 100%; height: 100%; bottom: 0;}

		</style>
	</head>
	<body>
		<div id="container"></div>

		<script src="/home/shanayaanna/js/three.js"></script>
		<script src="/home/shanayaanna/js/OrbitControls.js"></script>
		<script src="/home/shanayaanna/js/THREE.DecalGeometry.js"></script>
		<script src="/home/shanayaanna/js/DecalGeometry.js"></script>
		<script src="/home/shanayaanna/js/dat.gui.min.js"></script>


		<script>
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
    camera.position.z = 5;
    var renderer = new THREE.WebGLRenderer({
      antialias: true
    });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x101010);
    document.body.appendChild(renderer.domElement);

    var controls = new THREE.OrbitControls(camera, renderer.domElement);
    var light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.setScalar(10);
    scene.add(light);

		/*//create a cube
		var cubeGeometry = new THREE.BoxGeometry(3,3,3);
    var texture = new THREE.TextureLoader().load( 'https://cywarr.github.io/small-shop/03db80b70ecfc07e84e6dd2589d0b14c57414fb8[1].jpeg' );
    var cubeMaterial = new THREE.MeshLambertMaterial( { map: texture } );
    var cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
    cube.castShadow = true;
    // add the plane to the scene
    scene.add(cube);*/

		//create a cuboid with round edges - https://discourse.threejs.org/t/round-edged-box/1402
		function createBoxWithRoundedEdges( width, height, depth, radius0, smoothness ) {

  		let shape = new THREE.Shape();
  		let eps = 0.00001;
  		let radius = radius0 - eps;
  		shape.absarc( eps, eps, eps, -Math.PI / 2, -Math.PI, true );
  		shape.absarc( eps, height -  radius * 2, eps, Math.PI, Math.PI / 2, true );
  		shape.absarc( width - radius * 2, height -  radius * 2, eps, Math.PI / 2, 0, true );
  		shape.absarc( width - radius * 2, eps, eps, 0, -Math.PI / 2, true );
  		let geometry = new THREE.ExtrudeBufferGeometry( shape, {
    		amount: depth - radius0 * 2,
    		bevelEnabled: true,
    		bevelSegments: smoothness * 2,
    		steps: 1,
    		bevelSize: radius,
    		bevelThickness: radius0,
    		curveSegments: smoothness
  		});

  		geometry.center();

  		return geometry;
		}

		//add a normal material ver rounded cuboid
		//var cubeMaterial = new THREE.MeshNormalMaterial({ wireframe: true });

		//add an image as a material over rounded cuboid
		var texture = new THREE.TextureLoader().load( 'https://cywarr.github.io/small-shop/03db80b70ecfc07e84e6dd2589d0b14c57414fb8[1].jpeg' );
    var cubeMaterial = new THREE.MeshLambertMaterial( { map: texture } );

		var cube = new THREE.Mesh( createBoxWithRoundedEdges( 3.8, 1.5, 1.7, 4.6 / 9, 16 ), cubeMaterial );
  	//cube.scale.setScalar( 1.25 ); //This increases the scale of the entire object 1.25 times
  	scene.add( cube );

    render();

    function render() {
      controls.update();
      requestAnimationFrame(render);
      renderer.render(scene, camera);
  }
</script>
</body>
</html>
